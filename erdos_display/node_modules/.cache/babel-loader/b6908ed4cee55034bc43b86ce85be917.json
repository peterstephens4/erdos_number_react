{"ast":null,"code":"var _jsxFileName = \"/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/Main.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Dropdown, Button, Grid } from 'semantic-ui-react';\nimport queryString from 'query-string';\nimport './Main.css';\nimport logo from '../../images/aerosort.png';\nimport Search from \"./searchComponent/Search\";\n\nclass Main extends Component {\n  constructor(_props) {\n    super(_props);\n\n    this.onArtifactChange = (event, {\n      value\n    }) => {\n      var v = value.toLowerCase().replace(/ /g, \"_\").replace(/\\./g, \"\");\n      this.setState({\n        artifactValue: v\n      });\n    };\n\n    this.handleSelect = () => {\n      var newUrl = window.location.href + \"&artifact=\" + this.state.artifactValue;\n      window.location.replace(newUrl);\n    };\n\n    this.queryValues = queryString.parse(this.props.location.search);\n\n    this.renderSwitch = values => {\n      if (values.artifact) {\n        const searchView = props => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 39\n          }\n        }));\n\n        switch (values.type) {\n          case 'search':\n            return /*#__PURE__*/React.createElement(\"div\", {\n              id: \"typeSelection\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"TypeContainer\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(\"div\", {\n              className: \"Type\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }\n            }, /*#__PURE__*/React.createElement(Router, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 21\n              }\n            }, /*#__PURE__*/React.createElement(Switch, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 23\n              }\n            }, /*#__PURE__*/React.createElement(Route, {\n              exact: true,\n              path: \"/\",\n              render: searchView,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 25\n              }\n            }))))));\n\n          case 'submit':\n            console.log(\"Submit\");\n            return /*#__PURE__*/React.createElement(\"div\", {\n              id: \"typeSelection\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(\"label\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }\n            }, values.type));\n\n          default:\n            return /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"h4\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }\n            }, /*#__PURE__*/React.createElement(\"label\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }\n            }, \"What of action do you want (SEARCH or SUBMIT)?\")));\n        }\n      } else {\n        const {\n          value\n        } = this.state;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            width: '90%',\n            margin: 'auto',\n            align: 'center'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            float: 'center'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }\n        }, \"Choose an Artifact:\\xA0\\xA0\"), /*#__PURE__*/React.createElement(Dropdown, {\n          id: 'att',\n          selection: true,\n          value: value,\n          options: this.state.artifactsList,\n          onChange: this.onArtifactChange,\n          placeholder: \"Selection\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }\n        }), /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }\n        }, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(Button, {\n          type: \"submit\",\n          style: {\n            color: '#270188'\n          },\n          disabled: !this.state.artifactValue,\n          onClick: this.handleSelect,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }\n        }, \"Select\")));\n      }\n    };\n\n    this.artifactSelect = values => {\n      if (values.artifact) {\n        return /*#__PURE__*/React.createElement(Button, {\n          type: \"submit\",\n          onClick: this.handleArtifactSelect,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 11\n          }\n        }, \"Select Artifact\");\n      }\n    };\n\n    this.handleArtifactSelect = () => {\n      var p = window.location.href.split('&');\n      var newUrl = p[0] + '&' + p[1];\n      window.location.replace(newUrl);\n    };\n\n    this.state = {\n      artifactsList: [],\n      artifactValue: ''\n    };\n  }\n\n  componentDidMount() {\n    var repository = queryString.parse(this.props.location.search).repo.toLowerCase(); //var url = \"http://ser01.aero.org:5000/artifact_types?repository=\" +\n    //          repository;\n\n    var url = \"http://c2ser0.aero.org:5000/artifact_types?repository=\" + repository;\n    let results = [];\n\n    try {\n      fetch(url).then(response => response.json()).then(data => {\n        results = data.result.map(r => {\n          return r;\n        });\n        this.setState({\n          artifactsList: results.map(d => {\n            return {\n              text: d,\n              value: d\n            };\n          })\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  render() {\n    let repo = this.queryValues.repo.charAt(0).toUpperCase() + this.queryValues.repo.slice(1);\n    repo = repo.replace(/_/g, ' ');\n    repo = repo.toLowerCase().split(' ').map(s => s.charAt(0).toUpperCase() + s.substring(1)).join(' ');\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      width: \"100%\",\n      rules: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      bgcolor: \"#270188\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      verticalAlign: 'middle',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Grid.Column, {\n      width: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        align: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, this.artifactSelect(this.queryValues))))))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      size: \"20\",\n      color: \"black\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 22\n      }\n    }, repo)))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"tr\", {\n      valign: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, this.renderSwitch(this.queryValues)))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      height: \"150\",\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"tfoot\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      bgcolor: \"#270188\",\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, \"Copyright \\xA9 2020 The Aerospace Corporation.  All rights reserved.\")))))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/Main.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Dropdown","Button","Grid","queryString","logo","Search","Main","constructor","props","onArtifactChange","event","value","v","toLowerCase","replace","setState","artifactValue","handleSelect","newUrl","window","location","href","state","queryValues","parse","search","renderSwitch","values","artifact","searchView","type","console","log","width","margin","align","float","artifactsList","color","artifactSelect","handleArtifactSelect","p","split","componentDidMount","repository","repo","url","results","fetch","then","response","json","data","result","map","r","d","text","error","render","charAt","toUpperCase","slice","s","substring","join"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Dropdown, Button, Grid } from 'semantic-ui-react';\nimport queryString from 'query-string';\nimport './Main.css';\nimport logo from '../../images/aerosort.png';\n \nimport Search from \"./searchComponent/Search\";\n \nclass Main extends Component {\n \n  constructor(props) {\n    super(props);\n    this.state = {\n      artifactsList: [],\n      artifactValue: ''\n    }\n  };\n \n  componentDidMount() {\n    var repository = queryString.parse(this.props.location.search).repo.toLowerCase();\n    //var url = \"http://ser01.aero.org:5000/artifact_types?repository=\" +\n    //          repository;\n    var url = \"http://c2ser0.aero.org:5000/artifact_types?repository=\" +\n              repository;\n    let results = [];\n    try {\n        fetch(url)\n            .then(response => response.json())\n            .then(data => {\n                results = data.result.map( (r) => { return r } );\n                this.setState({\n                    artifactsList: results.map( (d) => {return {text: d, value: d}} )\n                });\n        });\n    }\n    catch (error) {\n        console.error(error);\n    }\n  };\n \n  onArtifactChange = (event, {value}) => {\n    var v = value.toLowerCase().replace(/ /g,\"_\").replace(/\\./g,\"\")\n    this.setState({ artifactValue: v } );\n  };\n \n  handleSelect = () => {\n    var newUrl = window.location.href + \"&artifact=\" + this.state.artifactValue;\n    window.location.replace(newUrl);\n  };\n \n  queryValues = queryString.parse(this.props.location.search);\n \n  renderSwitch = (values) => {\n      if(values.artifact) {\n        const searchView = (props) => <Search {...props} />\n \n        switch(values.type) {\n          case 'search':\n            return (\n              <div id=\"typeSelection\">\n                <div className = \"TypeContainer\">\n                  <div className=\"Type\">\n                    <Router>\n                      <Switch>\n                        <Route exact path='/' render = {searchView} />\n                      </Switch>\n                    </Router>\n                  </div>\n                </div>\n              </div>\n            )\n            case 'submit':\n              console.log(\"Submit\");\n              return (\n                <div id=\"typeSelection\">\n                  <label>{ values.type }</label>\n                </div>\n              )\n          default:\n            return (\n              <div>\n                <h4><label>What of action do you want (SEARCH or SUBMIT)?</label></h4>\n              </div>\n            );\n        }\n      } else {\n        const { value } = this.state;\n        return(\n          <div style={{width: '90%', margin: 'auto', align: 'center'}}>\n                  <span style={{float: 'center'}}>\n                    <b>Choose an Artifact:&nbsp;&nbsp;</b>\n                    <Dropdown id={'att'}\n                          selection\n                          value={value}\n                          options={this.state.artifactsList}\n                          onChange={this.onArtifactChange}\n                          placeholder='Selection' />\n                    <b>&nbsp;&nbsp;</b>\n                    <Button type='submit'\n                            style={{color: '#270188'}}\n                            disabled={!(this.state.artifactValue)}\n                            onClick={this.handleSelect}>\n                            Select\n                    </Button>\n                  </span>\n          </div>\n        );\n      }\n  }\n \n  artifactSelect = (values) => {\n    if(values.artifact) {\n      return (\n          <Button type='submit'\n              onClick={this.handleArtifactSelect}>\n              Select Artifact\n          </Button>\n      );\n    }\n  }\n \n  handleArtifactSelect = () => {\n    var p = window.location.href.split('&');\n    var newUrl = p[0] + '&' + p[1];\n    window.location.replace(newUrl);\n  };\n   \n  render () {\n    let repo = this.queryValues.repo.charAt(0).toUpperCase() + this.queryValues.repo.slice(1);\n    repo = repo.replace(/_/g, ' ');\n    repo = repo.toLowerCase()\n               .split(' ')\n               .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\n               .join(' ');\n \n    return (\n      <div className=\"Main\">\n        <table width = \"100%\" rules=\"none\">\n          <tbody>\n            <tr bgcolor = \"#270188\">\n                <td> \n                  <Grid verticalAlign={'middle'}>\n                    <Grid.Row>\n                      <Grid.Column width={3}></Grid.Column>\n                      <Grid.Column width={10}>\n                        <font color=\"white\"><img src={logo} className=\"App-logo\" alt=\"logo\" /></font>\n                      </Grid.Column>\n                      <Grid.Column width={3}>\n                        <div style={{align: 'right'}}>\n                          {this.artifactSelect(this.queryValues)}\n                        </div>\n                      </Grid.Column>\n                    </Grid.Row>\n                  </Grid>\n                </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\">&nbsp;</td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\">\n                  <p><font size=\"20\" color=\"black\">{repo}</font></p>\n              </td>\n            </tr>\n            <tr>\n              <td colSpan=\"2\">&nbsp;</td>\n            </tr>\n            <tr valign = \"top\">\n                <td colSpan=\"2\">\n                  <div>\n                    {this.renderSwitch(this.queryValues)}\n                  </div>     \n                </td>\n            </tr>\n            <tr>\n              <td height=\"150\" colSpan=\"2\"></td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n                <td bgcolor = \"#270188\" colSpan=\"2\">\n                  <font color=\"white\">\n                    <center>\n                        Copyright Â© 2020 The Aerospace Corporation.  All rights reserved.\n                    </center>\n                  </font>\n                </td>\n            </tr>\n          </tfoot>\n        </table>\n      </div> \n    );\n  }\n}\n \nexport default Main;"]},"metadata":{},"sourceType":"module"}