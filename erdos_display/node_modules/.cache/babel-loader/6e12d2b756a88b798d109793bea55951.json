{"ast":null,"code":"var _jsxFileName = \"/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.force = () => {\n      let width = window.innerWidth;\n      let height = window.innerHeight;\n      let svg = d3.select('svg').attr('width', this.width).attr('height', this.height);\n      let simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n        return d.id;\n      })).force(\"charge\", d3.forceManyBody()).force(\"center\", d3.forceCenter(this.width / 2, this.height / 2));\n      let link = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(this.props.data.links).enter().append(\"line\").attr(\"stroke-width\", function (d) {\n        return Math.sqrt(d.value) / 4;\n      });\n      let node = this.svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(this.props.data.nodes).enter().append(\"circle\").attr(\"r\", function (d) {\n        return Math.sqrt(d.pubs) * 1.5;\n      }).attr(\"fill\", \"#0099ff\").call(d3.drag().on(\"start\", this.dragstarted).on(\"drag\", this.dragged).on(\"end\", this.dragended));\n      node = this.node.append(\"title\").text(function (d) {\n        let dc = '';\n        let name = '';\n\n        if (d.name.indexOf('*') != -1) {\n          name = d.name.replace('*', '');\n          dc = ' (DECEASED)';\n        } else {\n          name = d.name;\n        }\n\n        let p = name.split(',');\n        name = p[1].concat(' ');\n        name = name.concat(p[0]);\n        name = name.concat(dc);\n        let text = name.concat(\"\\n \");\n        text = text.concat(d.pubs);\n        text = text.concat(\" Coauthor(s) with Erdos number 2\");\n        return text;\n      });\n      simulation = this.simulation.nodes(this.props.data.nodes).on(\"tick\", this.ticked);\n      simulation = this.simulation.force(\"link\").links(this.props.data.links);\n    };\n\n    this.ticked = () => {\n      let link = link.attr(\"x1\", function (d) {\n        return d.source.x;\n      }).attr(\"y1\", function (d) {\n        return d.source.y;\n      }).attr(\"x2\", function (d) {\n        return d.target.x;\n      }).attr(\"y2\", function (d) {\n        return d.target.y;\n      });\n      let node = node.attr(\"cx\", function (d) {\n        return d.x;\n      }).attr(\"cy\", function (d) {\n        return d.y;\n      });\n    };\n\n    this.dragstarted = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    };\n\n    this.dragged = d => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n    };\n\n    this.dragended = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    };\n  }\n\n  render() {\n    let data = this.props.data;\n    console.log(data.nodes);\n    console.log(data.links);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, this.force(data));\n  }\n\n}\n\nexport default ForceGraph;\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/","map":{"version":3,"sources":["/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js"],"names":["React","Component","d3","ForceGraph","force","width","window","innerWidth","height","innerHeight","svg","select","attr","simulation","forceSimulation","forceLink","id","d","forceManyBody","forceCenter","link","append","selectAll","data","props","links","enter","Math","sqrt","value","node","nodes","pubs","call","drag","on","dragstarted","dragged","dragended","text","dc","name","indexOf","replace","p","split","concat","ticked","source","x","y","target","event","active","alphaTarget","restart","fx","fy","render","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n\n  force = () => {\n    let width = window.innerWidth;\n    let height = window.innerHeight;\n    let svg =   d3.select('svg')\n                .attr('width', this.width)\n                .attr('height', this.height);\n    let simulation =  d3.forceSimulation()\n                .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n                .force(\"charge\", d3.forceManyBody())\n                .force(\"center\", d3.forceCenter(this.width / 2, this.height / 2));\n\n    let link =  svg.append(\"g\")\n              .attr(\"class\", \"links\")\n              .selectAll(\"line\")\n              .data(this.props.data.links)\n              .enter().append(\"line\")\n              .attr(\"stroke-width\", function(d) { return Math.sqrt(d.value) / 4; });\n\n    let node =  this.svg.append(\"g\")\n              .attr(\"class\", \"nodes\")\n              .selectAll(\"circle\")\n              .data(this.props.data.nodes)\n              .enter().append(\"circle\")\n              .attr(\"r\", function(d) {\n                          return Math.sqrt(d.pubs)*1.5;\n              })\n              .attr(\"fill\", \"#0099ff\")\n              .call(d3.drag()\n              .on(\"start\", this.dragstarted)\n              .on(\"drag\", this.dragged)\n              .on(\"end\", this.dragended));\n\n    node = this.node.append(\"title\")\n              .text(function(d) {\n                  let dc = '';\n                  let name = '';\n                  if (d.name.indexOf('*') != -1) {\n                    name = d.name.replace('*', '');\n                    dc = ' (DECEASED)';\n                  }\n                  else {\n                    name = d.name;\n                  }\n                  let p = name.split(',');\n                  name = p[1].concat(' ');\n                  name = name.concat(p[0]);\n                  name = name.concat(dc);\n                  let text = name.concat(\"\\n \");\n                  text = text.concat(d.pubs);\n                  text = text.concat(\" Coauthor(s) with Erdos number 2\");\n                  return text;\n              });\n\n    simulation =  this.simulation\n                      .nodes(this.props.data.nodes)\n                      .on(\"tick\", this.ticked);\n                \n    simulation =  this.simulation.force(\"link\")\n                      .links(this.props.data.links);\n  }\n\n  ticked = () => {\n      let link = link\n          .attr(\"x1\", function(d) { return d.source.x; })\n          .attr(\"y1\", function(d) { return d.source.y; })\n          .attr(\"x2\", function(d) { return d.target.x; })\n          .attr(\"y2\", function(d) { return d.target.y; });\n\n      let node = node\n          .attr(\"cx\", function(d) { return d.x; })\n          .attr(\"cy\", function(d) { return d.y; });\n    }\n\n  dragstarted = (d) => {\n    if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n  }\n  \n  dragged = (d) => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n  }\n  \n  dragended = (d) => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n  }  \n\n  \n\n  render () {\n      let data = this.props.data;\n      console.log(data.nodes);\n      console.log(data.links);\n  \n      return (\n        <div>\n          {this.force(data)}\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/"]},"metadata":{},"sourceType":"module"}