{"ast":null,"code":"var _jsxFileName = \"/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n  constructor(...args) {\n    super(...args);\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.svg = d3.select('svg').attr('width', this.width).attr('height', this.height);\n    this.simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n      return d.id;\n    })).force(\"charge\", d3.forceManyBody()).force(\"center\", d3.forceCenter(this.width / 2, this.height / 2));\n    this.link = this.svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(this.props.data.links).enter().append(\"line\").attr(\"stroke-width\", function (d) {\n      return Math.sqrt(d.value) / 4;\n    });\n    this.node = this.svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(this.props.data.nodes).enter().append(\"circle\").attr(\"r\", function (d) {\n      return Math.sqrt(d.pubs) * 1.5;\n    }).attr(\"fill\", \"#0099ff\").call(d3.drag().on(\"start\", this.dragstarted).on(\"drag\", this.dragged).on(\"end\", this.dragended));\n    this.node = this.node.append(\"title\").text(function (d) {\n      let dc = '';\n      let name = '';\n\n      if (d.name.indexOf('*') != -1) {\n        name = d.name.replace('*', '');\n        dc = ' (DECEASED)';\n      } else {\n        name = d.name;\n      }\n\n      let p = name.split(',');\n      name = p[1].concat(' ');\n      name = name.concat(p[0]);\n      name = name.concat(dc);\n      let text = name.concat(\"\\n \");\n      text = text.concat(d.pubs);\n      text = text.concat(\" Coauthor(s) with Erdos number 2\");\n      return text;\n    });\n\n    this.dragstarted = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    };\n\n    this.dragged = d => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n    };\n\n    this.dragended = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    };\n\n    this.force = data => {};\n  }\n\n  render() {\n    let data = this.props.data;\n    console.log(data.nodes);\n    console.log(data.links);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, this.force(data));\n  }\n\n}\n\nexport default ForceGraph;\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/","map":{"version":3,"sources":["/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js"],"names":["React","Component","d3","ForceGraph","width","window","innerWidth","height","innerHeight","svg","select","attr","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","forceCenter","link","append","selectAll","data","props","links","enter","Math","sqrt","value","node","nodes","pubs","call","drag","on","dragstarted","dragged","dragended","text","dc","name","indexOf","replace","p","split","concat","event","active","alphaTarget","restart","fx","x","fy","y","render","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n\n  width = window.innerWidth;\n  height = window.innerHeight;\n  svg =   d3.select('svg')\n              .attr('width', this.width)\n              .attr('height', this.height);\n  simulation =  d3.forceSimulation()\n              .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n              .force(\"charge\", d3.forceManyBody())\n              .force(\"center\", d3.forceCenter(this.width / 2, this.height / 2));\n\n  link =  this.svg.append(\"g\")\n            .attr(\"class\", \"links\")\n            .selectAll(\"line\")\n            .data(this.props.data.links)\n            .enter().append(\"line\")\n            .attr(\"stroke-width\", function(d) { return Math.sqrt(d.value) / 4; });\n\n  node =  this.svg.append(\"g\")\n            .attr(\"class\", \"nodes\")\n            .selectAll(\"circle\")\n            .data(this.props.data.nodes)\n            .enter().append(\"circle\")\n            .attr(\"r\", function(d) {\n                        return Math.sqrt(d.pubs)*1.5;\n            })\n            .attr(\"fill\", \"#0099ff\")\n            .call(d3.drag()\n            .on(\"start\", this.dragstarted)\n            .on(\"drag\", this.dragged)\n            .on(\"end\", this.dragended));\n\n  node = this.node.append(\"title\")\n            .text(function(d) {\n                let dc = '';\n                let name = '';\n                if (d.name.indexOf('*') != -1) {\n                  name = d.name.replace('*', '');\n                  dc = ' (DECEASED)';\n                }\n                else {\n                  name = d.name;\n                }\n                let p = name.split(',');\n                name = p[1].concat(' ');\n                name = name.concat(p[0]);\n                name = name.concat(dc);\n                let text = name.concat(\"\\n \");\n                text = text.concat(d.pubs);\n                text = text.concat(\" Coauthor(s) with Erdos number 2\");\n                return text;\n            });\n\n  dragstarted = (d) => {\n    if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n  }\n  \n  dragged = (d) => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n  }\n  \n  dragended = (d) => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n  }  \n\n  force = (data) => {\n  }\n\n  render () {\n      let data = this.props.data;\n      console.log(data.nodes);\n      console.log(data.links);\n  \n      return (\n        <div>\n          {this.force(data)}\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/"]},"metadata":{},"sourceType":"module"}