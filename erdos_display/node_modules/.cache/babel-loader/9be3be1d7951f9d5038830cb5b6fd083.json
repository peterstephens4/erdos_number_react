{"ast":null,"code":"var _jsxFileName = \"/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.force = data => {};\n\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    this.svg = d3.select('svg').attr('width', width).attr('height', height);\n    this.simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n      return d.id;\n    })).force(\"charge\", d3.forceManyBody()).force(\"center\", d3.forceCenter(width / 2, height / 2));\n    this.link = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(data.links).enter().append(\"line\").attr(\"stroke-width\", function (d) {\n      return Math.sqrt(d.value) / 4;\n    });\n    this.node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(data.nodes).enter().append(\"circle\").attr(\"r\", function (d) {\n      return Math.sqrt(d.pubs) * 1.5;\n    }).attr(\"fill\", \"#0099ff\").call(d3.drag().on(\"start\", this.dragstarted).on(\"drag\", this.dragged).on(\"end\", this.dragended));\n\n    this.dragstarted = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    };\n\n    this.dragged = d => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n    };\n\n    this.dragended = d => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    };\n  }\n\n  render() {\n    let data = this.props.data;\n    console.log(data.nodes);\n    console.log(data.links);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, this.force(data));\n  }\n\n}\n\nexport default ForceGraph;\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/","map":{"version":3,"sources":["/Users/peterstephens/Documents/projects/erdos_number/erdos_display/src/components/ForceGraph.js"],"names":["React","Component","d3","ForceGraph","force","data","width","window","innerWidth","height","innerHeight","svg","select","attr","simulation","forceSimulation","forceLink","id","d","forceManyBody","forceCenter","link","append","selectAll","links","enter","Math","sqrt","value","node","nodes","pubs","call","drag","on","dragstarted","dragged","dragended","event","active","alphaTarget","restart","fx","x","fy","y","render","props","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\n\nclass ForceGraph extends Component {\n\n  force = (data) => {\n  }\n\n     width = window.innerWidth;\n     height = window.innerHeight;\n     svg = d3.select('svg')\n                  .attr('width', width)\n                  .attr('height', height);\n     simulation =  d3.forceSimulation()\n                  .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n                  .force(\"charge\", d3.forceManyBody())\n                  .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n     link = svg.append(\"g\")\n                .attr(\"class\", \"links\")\n                .selectAll(\"line\")\n                .data(data.links)\n                .enter().append(\"line\")\n                .attr(\"stroke-width\", function(d) { return Math.sqrt(d.value) / 4; });\n\n     node = svg.append(\"g\")\n                .attr(\"class\", \"nodes\")\n                .selectAll(\"circle\")\n                .data(data.nodes)\n                .enter().append(\"circle\")\n                .attr(\"r\", function(d) {\n                            return Math.sqrt(d.pubs)*1.5;\n                })\n                .attr(\"fill\", \"#0099ff\")\n                .call(d3.drag()\n                .on(\"start\", this.dragstarted)\n                .on(\"drag\", this.dragged)\n                .on(\"end\", this.dragended)\n                );\n\n  dragstarted = (d) => {\n    if (!d3.event.active) this.simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n  }\n  \n  dragged = (d) => {\n      d.fx = d3.event.x;\n      d.fy = d3.event.y;\n  }\n  \n  dragended = (d) => {\n      if (!d3.event.active) this.simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n  }  \n\n  render () {\n      let data = this.props.data;\n      console.log(data.nodes);\n      console.log(data.links);\n  \n      return (\n        <div>\n          {this.force(data)}\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n\n/*\nclass ForceGraph extends Component {\n\n  greeting = 'Hello Function Component!';\n  data = this.props.data;\n\n  render () {\n    return (\n        <div>\n        <p>This file plots data the subgraph of the collaboration graph\n      induced by co-authors of Paul Erdos.  Its vertices are people\n      with Erdos number 1, and two authors are joined by an edge if\n      they have published a joint paper (with or without other collaborators).\n      Paul Erdos himself and people with Erdos number 2 are not included.\n      \n      Refference:   https://www.oakland.edu/enp/thedata/\n                    https://files.oakland.edu/users/grossman/enp/erdos1graph.html</p>\n          <p>For more information on the Erdos Number Project see the following link...</p>\n          <p>Force Graph</p>\n          <p>{this.greeting}</p>\n          <p>{this.data.nodes[0]['name']}</p>\n          <p>{this.data.links[0]['target']}</p>\n        </div>\n      );\n    };\n}\n\nexport default ForceGraph;\n\n*/"]},"metadata":{},"sourceType":"module"}